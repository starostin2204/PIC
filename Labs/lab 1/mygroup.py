# -*- coding: utf-8 -*-
# Программа для работы со списком студентов группы

# Список студентов группы
# Каждый студент представлен словарем с полями: имя, фамилия, экзамены, оценки
# Пример структуры: {"name": "Имя", "surname": "Фамилия", "exams": [...], "marks": [...]}
groupmates = [
    {
        "name": "Александр",
        "surname": "Иванов",
        "exams": ["Информатика", "ЭЭиС", "Web"],
        "marks": [4, 3, 5]
    },
    {
        "name": "Иван",
        "surname": "Петров",
        "exams": ["История", "АиГ", "КТП"],
        "marks": [4, 4, 4]
    },
    {
        "name": "Кирилл",
        "surname": "Смирнов",
        "exams": ["Философия", "ИС", "КТП"],
        "marks": [5, 5, 5]
    },
    {
        "name": "Мария",
        "surname": "Козлова",
        "exams": ["Математика", "Физика", "Химия"],
        "marks": [5, 4, 3]
    },
    {
        "name": "Дмитрий",
        "surname": "Новиков",
        "exams": ["Биология", "География", "История"],
        "marks": [3, 3, 4]
    },
    {
        "name": "Анна",
        "surname": "Волкова",
        "exams": ["Литература", "Английский", "МХК"],
        "marks": [5, 5, 5]
    },
    {
        "name": "Сергей",
        "surname": "Морозов",
        "exams": ["Обществознание", "Право", "Экономика"],
        "marks": [4, 5, 4]
    }
]

# Функция для вывода списка студентов в табличном формате
# Параметр students - список словарей со студентами
# Метод ljust(n) - выравнивает строку по левому краю, дополняя пробелами до длины n
# Пример: "Имя".ljust(15) -> "Имя            "
def print_students(students):
    # Вывод заголовков таблицы
    # u перед строкой означает Unicode-строку для правильного отображения кириллицы
    print(u"Имя".ljust(15), u"Фамилия".ljust(10), u"Экзамены".ljust(30), u"Оценки".ljust(20))
    
    # Цикл for перебирает каждого студента из списка
    # На каждой итерации student содержит словарь с данными одного студента
    for student in students:
        # Вывод данных студента
        # student["name"] - обращение к полю словаря по ключу
        # str() - преобразование списка в строку для вывода
        print(student["name"].ljust(15), student["surname"].ljust(10), 
              str(student["exams"]).ljust(30), str(student["marks"]).ljust(20))

# Функция для фильтрации студентов по среднему баллу
# Параметр students - список студентов для фильтрации
# Параметр min_average - минимальный средний балл для отбора
# Функция возвращает новый список студентов, удовлетворяющих условию
def filter_students_by_average(students, min_average):
    # Список для хранения отфильтрованных студентов
    filtered = []
    
    # Перебираем каждого студента
    for student in students:
        # Функция sum() суммирует все элементы списка
        # Пример: sum([4, 3, 5]) = 12
        total = sum(student["marks"])
        
        # Функция len() возвращает длину списка (количество элементов)
        # Пример: len([4, 3, 5]) = 3
        count = len(student["marks"])
        
        # Вычисление среднего балла
        # Деление total / count дает среднее арифметическое оценок
        average = total / count
        
        # Условная конструкция if проверяет условие
        # Если средний балл >= заданного минимума, добавляем студента в результат
        if average >= min_average:
            # Метод append() добавляет элемент в конец списка
            # Пример: filtered.append(student) добавляет словарь student в список
            filtered.append(student)
    
    # Возврат отфильтрованного списка
    return filtered

# Основная часть программы
print("Все студенты группы:")
print_students(groupmates)

print("\n" + "="*80 + "\n")

# Получение ввода от пользователя
# input() - функция для чтения строки с клавиатуры
# float() - преобразование строки в число с плавающей точкой
# Пример: float("4.5") = 4.5
min_avg = float(input("Введите минимальный средний балл для фильтрации: "))

# Вызов функции фильтрации
filtered_students = filter_students_by_average(groupmates, min_avg)

# Вывод результатов фильтрации
print(f"\nСтуденты со средним баллом выше {min_avg}:")
if filtered_students:
    # Если список не пустой, выводим студентов
    print_students(filtered_students)
else:
    # Если список пустой, выводим сообщение
    print("Нет студентов с таким средним баллом")
